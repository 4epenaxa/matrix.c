#include "tests.h"

START_TEST(test_transpose_1) {
  matrix_t A, C, RES;
  s21_create_matrix(7, 9, &A);
  s21_create_matrix(9, 7, &RES);
  double arr1[] = {
      8.632035360236603,  1.1366167819069208,  2.2465255062939047,
      1.194943711862856,  8.74823331874742,    1.8726142411026199,
      9.384029321095102,  0.12254446106157224, 6.096548902046214,
      1.9454661630476244, 6.877662108268698,   4.7650764540458725,
      8.630031346386017,  6.6109704101287745,  2.2270348148546235,
      8.090170927588385,  9.770070462714425,   1.1608117500766122,
      3.855278953033454,  0.08547326104498473, 8.42796411460551,
      4.722253366610705,  7.199064703339378,   8.35809176526993,
      4.001899612486154,  8.641107305127496,   1.0512195298748024,
      4.693861222592665,  2.41893661426983,    0.326116232150799,
      9.707404690568078,  8.381892544358152,   8.291896255811997,
      2.915898928235428,  3.365270223064877,   3.5995794670521355,
      3.025516238775027,  4.453024065174804,   6.214101827591503,
      1.1364642115846804, 4.186766202612033,   4.847623351355448,
      1.5880349619345482, 8.153702386245929,   7.983950071889844,
      2.7398759303212272, 8.089283120369048,   4.3897616759102345,
      0.2329106951265441, 6.785693749864637,   1.1612169321694306,
      1.5696583102434036, 0.7575046311794227,  1.9955347670405152,
      1.2715770277161744, 4.325359120432299,   4.163941168740109,
      2.668489012228424,  2.7199926632465794,  7.396035979356173,
      1.4008711030904526, 7.693691382849057,   6.3098053091075865,
  };
  double arr3[] = {
      8.632035360236603,   1.9454661630476244,  3.855278953033454,
      4.693861222592665,   3.025516238775027,   2.7398759303212272,
      1.2715770277161744,  1.1366167819069208,  6.877662108268698,
      0.08547326104498473, 2.41893661426983,    4.453024065174804,
      8.089283120369048,   4.325359120432299,   2.2465255062939047,
      4.7650764540458725,  8.42796411460551,    0.326116232150799,
      6.214101827591503,   4.3897616759102345,  4.163941168740109,
      1.194943711862856,   8.630031346386017,   4.722253366610705,
      9.707404690568078,   1.1364642115846804,  0.2329106951265441,
      2.668489012228424,   8.74823331874742,    6.6109704101287745,
      7.199064703339378,   8.381892544358152,   4.186766202612033,
      6.785693749864637,   2.7199926632465794,  1.8726142411026199,
      2.2270348148546235,  8.35809176526993,    8.291896255811997,
      4.847623351355448,   1.1612169321694306,  7.396035979356173,
      9.384029321095102,   8.090170927588385,   4.001899612486154,
      2.915898928235428,   1.5880349619345482,  1.5696583102434036,
      1.4008711030904526,  0.12254446106157224, 9.770070462714425,
      8.641107305127496,   3.365270223064877,   8.153702386245929,
      0.7575046311794227,  7.693691382849057,   6.096548902046214,
      1.1608117500766122,  1.0512195298748024,  3.5995794670521355,
      7.983950071889844,   1.9955347670405152,  6.3098053091075865,
  };
  from_array_to_matrix(&A, arr1);
  from_array_to_matrix(&RES, arr3);
  ck_assert_int_eq(s21_transpose(&A, &C), OK);
  ck_assert_int_eq(s21_eq_matrix(&C, &RES), SUCCESS);
  s21_remove_matrix(&A);
  s21_remove_matrix(&C);
  s21_remove_matrix(&RES);
}
END_TEST

START_TEST(test_transpose_2) {
  matrix_t A, C, RES;
  s21_create_matrix(4, 1, &A);
  s21_create_matrix(1, 4, &RES);
  double arr1[] = {
      5.80752891977747,
      8.334271187904967,
      3.767923411276682,
      2.1878695265438033,
  };
  double arr3[] = {
      5.80752891977747,
      8.334271187904967,
      3.767923411276682,
      2.1878695265438033,
  };
  from_array_to_matrix(&A, arr1);
  from_array_to_matrix(&RES, arr3);
  ck_assert_int_eq(s21_transpose(&A, &C), OK);
  ck_assert_int_eq(s21_eq_matrix(&C, &RES), SUCCESS);
  s21_remove_matrix(&A);
  s21_remove_matrix(&C);
  s21_remove_matrix(&RES);
}
END_TEST

START_TEST(test_transpose_3) {
  matrix_t A, C, RES;
  s21_create_matrix(4, 1, &A);
  s21_create_matrix(1, 4, &RES);
  double arr1[] = {
      4.470250602764739,
      3.1978384742663537,
      7.297100336511072,
      6.859237624995406,
  };
  double arr3[] = {
      4.470250602764739,
      3.1978384742663537,
      7.297100336511072,
      6.859237624995406,
  };
  from_array_to_matrix(&A, arr1);
  from_array_to_matrix(&RES, arr3);
  ck_assert_int_eq(s21_transpose(&A, &C), OK);
  ck_assert_int_eq(s21_eq_matrix(&C, &RES), SUCCESS);
  s21_remove_matrix(&A);
  s21_remove_matrix(&C);
  s21_remove_matrix(&RES);
}
END_TEST

START_TEST(test_transpose_4) {
  matrix_t A, C, RES;
  s21_create_matrix(5, 8, &A);
  s21_create_matrix(8, 5, &RES);
  double arr1[] = {
      0.8267838388785759, 1.1250471566995823, 4.351101618434082,
      2.815172619374002,  3.3478445314985494, 1.9661904596391524,
      1.4516969154118529, 9.219183638830266,  7.909077590583943,
      2.132187125815756,  5.166187255357612,  6.023293701050847,
      1.6532052796327492, 6.575148236782761,  7.034386563699183,
      8.939154995830032,  7.301274660782684,  6.509104604598212,
      1.7724781338350235, 8.26981832335533,   9.933457261276802,
      4.228914342827908,  3.775331355653703,  2.860130525611008,
      8.31120919515243,   2.100743533016973,  1.7355640444531442,
      9.597658897744209,  7.43566842236076,   9.467789299522567,
      8.153750758998745,  8.6762644354996,    3.0754699481483776,
      2.1800022063476403, 6.464260051347951,  4.3208808643032475,
      3.510879719894403,  6.611594906233866,  9.338888906404005,
      0.6275886806981027,
  };
  double arr3[] = {
      0.8267838388785759, 7.909077590583943,  7.301274660782684,
      8.31120919515243,   3.0754699481483776, 1.1250471566995823,
      2.132187125815756,  6.509104604598212,  2.100743533016973,
      2.1800022063476403, 4.351101618434082,  5.166187255357612,
      1.7724781338350235, 1.7355640444531442, 6.464260051347951,
      2.815172619374002,  6.023293701050847,  8.26981832335533,
      9.597658897744209,  4.3208808643032475, 3.3478445314985494,
      1.6532052796327492, 9.933457261276802,  7.43566842236076,
      3.510879719894403,  1.9661904596391524, 6.575148236782761,
      4.228914342827908,  9.467789299522567,  6.611594906233866,
      1.4516969154118529, 7.034386563699183,  3.775331355653703,
      8.153750758998745,  9.338888906404005,  9.219183638830266,
      8.939154995830032,  2.860130525611008,  8.6762644354996,
      0.6275886806981027,
  };
  from_array_to_matrix(&A, arr1);
  from_array_to_matrix(&RES, arr3);
  ck_assert_int_eq(s21_transpose(&A, &C), OK);
  ck_assert_int_eq(s21_eq_matrix(&C, &RES), SUCCESS);
  s21_remove_matrix(&A);
  s21_remove_matrix(&C);
  s21_remove_matrix(&RES);
}
END_TEST

START_TEST(test_transpose_5) {
  matrix_t A, C, RES;
  s21_create_matrix(7, 1, &A);
  s21_create_matrix(1, 7, &RES);
  double arr1[] = {
      3.007828362578769,    7.460616043983928, 9.243943984137758,
      9.16200305089444,     3.460179767726667, 6.184341282464448,
      0.049873304601118704,
  };
  double arr3[] = {
      3.007828362578769,    7.460616043983928, 9.243943984137758,
      9.16200305089444,     3.460179767726667, 6.184341282464448,
      0.049873304601118704,
  };
  from_array_to_matrix(&A, arr1);
  from_array_to_matrix(&RES, arr3);
  ck_assert_int_eq(s21_transpose(&A, &C), OK);
  ck_assert_int_eq(s21_eq_matrix(&C, &RES), SUCCESS);
  s21_remove_matrix(&A);
  s21_remove_matrix(&C);
  s21_remove_matrix(&RES);
}
END_TEST

START_TEST(test_transpose_6) {
  matrix_t A, C, RES;
  s21_create_matrix(5, 3, &A);
  s21_create_matrix(3, 5, &RES);
  double arr1[] = {
      5.915469820529791,   5.026300057619434, 8.261985386688565,
      8.7047875122,        2.784114383752785, 1.8449321664776581,
      0.24180935249392407, 7.418685475487297, 7.727979333287786,
      1.014353080145976,   3.523890962073216, 5.493761319237988,
      5.6589332688066545,  4.435806389678461, 8.65554086591074,
  };
  double arr3[] = {
      5.915469820529791, 8.7047875122,       0.24180935249392407,
      1.014353080145976, 5.6589332688066545, 5.026300057619434,
      2.784114383752785, 7.418685475487297,  3.523890962073216,
      4.435806389678461, 8.261985386688565,  1.8449321664776581,
      7.727979333287786, 5.493761319237988,  8.65554086591074,
  };
  from_array_to_matrix(&A, arr1);
  from_array_to_matrix(&RES, arr3);
  ck_assert_int_eq(s21_transpose(&A, &C), OK);
  ck_assert_int_eq(s21_eq_matrix(&C, &RES), SUCCESS);
  s21_remove_matrix(&A);
  s21_remove_matrix(&C);
  s21_remove_matrix(&RES);
}
END_TEST

START_TEST(test_transpose_7) {
  matrix_t A, C, RES;
  s21_create_matrix(1, 3, &A);
  s21_create_matrix(3, 1, &RES);
  double arr1[] = {
      7.782330023050576,
      7.7926146538704435,
      2.3889992210166273,
  };
  double arr3[] = {
      7.782330023050576,
      7.7926146538704435,
      2.3889992210166273,
  };
  from_array_to_matrix(&A, arr1);
  from_array_to_matrix(&RES, arr3);
  ck_assert_int_eq(s21_transpose(&A, &C), OK);
  ck_assert_int_eq(s21_eq_matrix(&C, &RES), SUCCESS);
  s21_remove_matrix(&A);
  s21_remove_matrix(&C);
  s21_remove_matrix(&RES);
}
END_TEST

START_TEST(test_transpose_8) {
  matrix_t A, C, RES;
  s21_create_matrix(1, 5, &A);
  s21_create_matrix(5, 1, &RES);
  double arr1[] = {
      8.162309995002905, 0.5712124104546461, 0.7355539779894802,
      4.607111433547746, 3.5254426175126907,
  };
  double arr3[] = {
      8.162309995002905, 0.5712124104546461, 0.7355539779894802,
      4.607111433547746, 3.5254426175126907,
  };
  from_array_to_matrix(&A, arr1);
  from_array_to_matrix(&RES, arr3);
  ck_assert_int_eq(s21_transpose(&A, &C), OK);
  ck_assert_int_eq(s21_eq_matrix(&C, &RES), SUCCESS);
  s21_remove_matrix(&A);
  s21_remove_matrix(&C);
  s21_remove_matrix(&RES);
}
END_TEST

START_TEST(test_transpose_9) {
  matrix_t A, C, RES;
  s21_create_matrix(1, 9, &A);
  s21_create_matrix(9, 1, &RES);
  double arr1[] = {
      4.0682156471329725, 0.5351038525533404, 6.474509200862686,
      8.327298549764429,  3.841949055899592,  5.6318592159649326,
      7.797276084347366,  9.131017782447493,  2.2658561704259075,
  };
  double arr3[] = {
      4.0682156471329725, 0.5351038525533404, 6.474509200862686,
      8.327298549764429,  3.841949055899592,  5.6318592159649326,
      7.797276084347366,  9.131017782447493,  2.2658561704259075,
  };
  from_array_to_matrix(&A, arr1);
  from_array_to_matrix(&RES, arr3);
  ck_assert_int_eq(s21_transpose(&A, &C), OK);
  ck_assert_int_eq(s21_eq_matrix(&C, &RES), SUCCESS);
  s21_remove_matrix(&A);
  s21_remove_matrix(&C);
  s21_remove_matrix(&RES);
}
END_TEST

START_TEST(test_transpose_10) {
  matrix_t A, C, RES;
  s21_create_matrix(7, 9, &A);
  s21_create_matrix(9, 7, &RES);
  double arr1[] = {
      4.903721844168608,    2.195350828487469,   0.8839942738191515,
      1.3912276106681056,   6.6696461035253805,  3.7619229698531043,
      8.19722197261716,     0.28671324450976743, 7.574099679981122,
      2.557873858820262,    7.069410195503215,   8.17431880174146,
      4.072653879172766,    9.765623551032588,   5.3434701607303605,
      4.064440837914342,    9.870590430820421,   6.944256886352968,
      6.87522085106404,     2.183967052681782,   7.3520668065547135,
      0.056619277674581116, 8.606482228478505,   4.189357145431501,
      0.5158264596608535,   4.522531674445687,   1.3349049408584484,
      1.0278900645238482,   0.2455947053638628,  5.530244467382546,
      0.8828299552479922,   5.56820697456568,    0.05134369027339229,
      6.552310437936622,    1.524901276975712,   6.476452760078636,
      2.2242092289507287,   9.935189632699954,   5.132242387118375,
      4.85153855778395,     7.257629945452957,   3.3021070300302733,
      6.2357416919988795,   1.8563137503863718,  9.102280217903937,
      3.4530576186733373,   9.306256456909107,   1.907382321977021,
      3.6682127092182637,   7.622144499701177,   1.806525555882802,
      9.380721843742442,    7.427258771831382,   7.742424381477099,
      8.402315108223723,    0.9719049846058219,  8.307008426978198,
      5.746964379987446,    4.808573888609407,   2.3178822182535104,
      1.2592544664044185,   9.143558268626311,   6.423216297550933,
  };
  double arr3[] = {
      4.903721844168608,  2.557873858820262,   6.87522085106404,
      1.0278900645238482, 2.2242092289507287,  3.4530576186733373,
      8.402315108223723,  2.195350828487469,   7.069410195503215,
      2.183967052681782,  0.2455947053638628,  9.935189632699954,
      9.306256456909107,  0.9719049846058219,  0.8839942738191515,
      8.17431880174146,   7.3520668065547135,  5.530244467382546,
      5.132242387118375,  1.907382321977021,   8.307008426978198,
      1.3912276106681056, 4.072653879172766,   0.056619277674581116,
      0.8828299552479922, 4.85153855778395,    3.6682127092182637,
      5.746964379987446,  6.6696461035253805,  9.765623551032588,
      8.606482228478505,  5.56820697456568,    7.257629945452957,
      7.622144499701177,  4.808573888609407,   3.7619229698531043,
      5.3434701607303605, 4.189357145431501,   0.05134369027339229,
      3.3021070300302733, 1.806525555882802,   2.3178822182535104,
      8.19722197261716,   4.064440837914342,   0.5158264596608535,
      6.552310437936622,  6.2357416919988795,  9.380721843742442,
      1.2592544664044185, 0.28671324450976743, 9.870590430820421,
      4.522531674445687,  1.524901276975712,   1.8563137503863718,
      7.427258771831382,  9.143558268626311,   7.574099679981122,
      6.944256886352968,  1.3349049408584484,  6.476452760078636,
      9.102280217903937,  7.742424381477099,   6.423216297550933,
  };
  from_array_to_matrix(&A, arr1);
  from_array_to_matrix(&RES, arr3);
  ck_assert_int_eq(s21_transpose(&A, &C), OK);
  ck_assert_int_eq(s21_eq_matrix(&C, &RES), SUCCESS);
  s21_remove_matrix(&A);
  s21_remove_matrix(&C);
  s21_remove_matrix(&RES);
}
END_TEST

START_TEST(test_transpose_uninitialized) {
  matrix_t A;
  s21_create_matrix(2, 2, &A);
  ck_assert_int_eq(s21_transpose(NULL, NULL), ERROR_MATR);
  ck_assert_int_eq(s21_transpose(NULL, &A), ERROR_MATR);
  s21_remove_matrix(&A);
}
END_TEST

Suite *test_transpose(void) {
  Suite *s = suite_create("\033[41m-=S21_TRANSPOSE=-\033[0m"RAINBOW_COLORS);
  TCase *tc = tcase_create("s21_transpose_tc");

  srand(time(NULL));

  tcase_add_test(tc, test_transpose_1);
  tcase_add_test(tc, test_transpose_2);
  tcase_add_test(tc, test_transpose_3);
  tcase_add_test(tc, test_transpose_4);
  tcase_add_test(tc, test_transpose_5);
  tcase_add_test(tc, test_transpose_6);
  tcase_add_test(tc, test_transpose_7);
  tcase_add_test(tc, test_transpose_8);
  tcase_add_test(tc, test_transpose_9);
  tcase_add_test(tc, test_transpose_10);
  tcase_add_test(tc, test_transpose_uninitialized);

  suite_add_tcase(s, tc);
  return s;
}